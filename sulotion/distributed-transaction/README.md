# 分布式事务解决方案



## 2PC

 + 两个角色
    - 协调者
    - 参与者
    
 + 两阶段
    - 准备阶段 
        
        协调者向各个参与者发起询问,各个参与者可能恢复YES、NO或超时
      
    - 提交阶段
        
        所有参与者回复YES时、则事物协调者向各个事物参与者发起提交请求、各参与者提交后回复ACK
    
+ 实现
    所有参与者都要实现三个接口prepare、commit、rollback
  
+ 问题
    - 性能问题


## 最终一致性(MQ)


## TCC


## 事务状态表+调用方重试+接收方幂等



##弱一致性+基于状态的补偿



